target_sources(test_autd3 PRIVATE primitive.cpp)

if(BUILD_GAIN_HOLO)
  target_sources(test_autd3 PRIVATE backend_eigen.cpp)
  target_link_libraries(test_autd3 autd3::gain::holo autd3::backend::eigen)
  if(BUILD_BACKEND_CUDA)
    target_sources(test_autd3 PRIVATE backend_cuda.cpp)
    target_link_libraries(test_autd3 autd3::backend::cuda)
  endif()
  if(BUILD_BACKEND_BLAS)
    target_sources(test_autd3 PRIVATE backend_blas.cpp)
    target_link_libraries(test_autd3 autd3::backend::blas)
  endif()
  if(BUILD_BACKEND_ARRAYFIRE)
    target_sources(test_autd3 PRIVATE backend_arrayfire.cpp)
    target_link_libraries(test_autd3 autd3::backend::arrayfire)
  endif()
endif()
