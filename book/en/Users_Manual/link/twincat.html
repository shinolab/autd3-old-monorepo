<!DOCTYPE HTML>
<html lang="en" class="navy" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TwinCAT - AUTD3 Developers Manual v18.0.1</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../.././theme/codeblock_filename.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('navy')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../about_AUTD3.html"><strong aria-hidden="true">1.</strong> About AUTD3</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/users_manual.html"><strong aria-hidden="true">2.</strong> SDK User's Manual</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/concept.html"><strong aria-hidden="true">2.1.</strong> Concept</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started.html"><strong aria-hidden="true">2.2.</strong> Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started/rust.html"><strong aria-hidden="true">2.2.1.</strong> Rust</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started/cpp.html"><strong aria-hidden="true">2.2.2.</strong> C++</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started/cs.html"><strong aria-hidden="true">2.2.3.</strong> C#</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started/unity.html"><strong aria-hidden="true">2.2.3.1.</strong> Unity</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/getting_started/python.html"><strong aria-hidden="true">2.2.4.</strong> Python</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/versioning.html"><strong aria-hidden="true">2.3.</strong> Versioning</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/geometry.html"><strong aria-hidden="true">2.4.</strong> Geometry</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/link.html"><strong aria-hidden="true">2.5.</strong> Link</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/link/twincat.html" class="active"><strong aria-hidden="true">2.5.1.</strong> TwinCAT</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/link/soem.html"><strong aria-hidden="true">2.5.2.</strong> SOEM</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/link/simulator.html"><strong aria-hidden="true">2.5.3.</strong> Simulator</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain.html"><strong aria-hidden="true">2.6.</strong> Gain</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/gain/null.html"><strong aria-hidden="true">2.6.1.</strong> Null</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/focus.html"><strong aria-hidden="true">2.6.2.</strong> Focus</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/bessel.html"><strong aria-hidden="true">2.6.3.</strong> Bessel</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/plane.html"><strong aria-hidden="true">2.6.4.</strong> Plane</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/uniform.html"><strong aria-hidden="true">2.6.5.</strong> Uniform</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/grouped.html"><strong aria-hidden="true">2.6.6.</strong> Group</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/holo.html"><strong aria-hidden="true">2.6.7.</strong> Holo</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/cache.html"><strong aria-hidden="true">2.6.8.</strong> Cache</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/gain/transform.html"><strong aria-hidden="true">2.6.9.</strong> Transform</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation.html"><strong aria-hidden="true">2.7.</strong> Modulation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/static.html"><strong aria-hidden="true">2.7.1.</strong> Static</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/sine.html"><strong aria-hidden="true">2.7.2.</strong> Sine</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/fourier.html"><strong aria-hidden="true">2.7.2.1.</strong> Fourier</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/square.html"><strong aria-hidden="true">2.7.3.</strong> Square</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/wav.html"><strong aria-hidden="true">2.7.4.</strong> Wav</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/rawpcm.html"><strong aria-hidden="true">2.7.5.</strong> RawPCM</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/cache.html"><strong aria-hidden="true">2.7.6.</strong> Cache</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/radiation.html"><strong aria-hidden="true">2.7.7.</strong> Radiation</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/modulation/transform.html"><strong aria-hidden="true">2.7.8.</strong> Transform</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/stm.html"><strong aria-hidden="true">2.8.</strong> Spatio-Temporal Modulation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/stm/focus.html"><strong aria-hidden="true">2.8.1.</strong> FocusSTM</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/stm/gain.html"><strong aria-hidden="true">2.8.2.</strong> GainSTM</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/silencer.html"><strong aria-hidden="true">2.9.</strong> Silencer</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/controller.html"><strong aria-hidden="true">2.10.</strong> Controller</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/advanced_examples/advanced_examples.html"><strong aria-hidden="true">2.11.</strong> Advanced examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Users_Manual/advanced_examples/custom_gain.html"><strong aria-hidden="true">2.11.1.</strong> Custom Gain</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/advanced_examples/custom_modulation.html"><strong aria-hidden="true">2.11.2.</strong> Custom Modulation</a></li></ol></li><li class="chapter-item expanded "><a href="../../Users_Manual/Simulator/simulator.html"><strong aria-hidden="true">2.12.</strong> Simulaotr</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/FAQ/faq.html"><strong aria-hidden="true">2.13.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/Citation/citation.html"><strong aria-hidden="true">2.14.</strong> Citation</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/LICENSE.html"><strong aria-hidden="true">2.15.</strong> License</a></li><li class="chapter-item expanded "><a href="../../Users_Manual/release_notes.html"><strong aria-hidden="true">2.16.</strong> Release notes</a></li></ol></li><li class="chapter-item expanded "><a href="../../document_history.html"><strong aria-hidden="true">3.</strong> Document history</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AUTD3 Developers Manual v18.0.1</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shinolab/autd3" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="twincat"><a class="header" href="#twincat">TwinCAT</a></h1>
<p>TwinCAT is a software that enables EtherCAT communication on Windows.
TwinCAT is the only official way to use EtherCAT on Windows.
TwinCAT is a very special software that supports only Windows and forcibly real-timeizes Windows.</p>
<p>You have to use a specific network controller to use TwinCAT.
Please see <a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tc3_overview/9309844363.html&amp;id=">List of supported network controllers</a>.</p>
<blockquote>
<p>Note: Alternatively, after installing TwinCAT, you can check the Vendor ID and Device ID of the corresponding device in <code>C:/TwinCAT/3.1/Driver/System/TcI8254x.inf</code>, and check it against “Device Manager” → “Ethernet Adapter” → “Property” → “Details” → “Hardware ID” to confirm.</p>
</blockquote>
<p>The NIC other than the above may work, but in that case, normal operation and real-time performance are not guaranteed.</p>
<ul>
<li><a href="#twincat-installation">TwinCAT installation</a></li>
<li><a href="#autd-server">AUTD Server</a>
<ul>
<li><a href="#config-file-and-driver-installation">Config file and driver installation</a></li>
<li><a href="#license">License</a></li>
<li><a href="#run-autd-server">Run AUTD Server</a></li>
</ul>
</li>
<li><a href="#twincat-link-api">TwinCAT link API</a>
<ul>
<li><a href="#constructor">Constructor</a></li>
</ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#remotetwincat">RemoteTwinCAT</a>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#remotetwincat-link-api">RemoteTwinCAT link API</a>
<ul>
<li><a href="#constructor-1">Constructor</a></li>
</ul>
</li>
<li><a href="#firewall">Firewall</a></li>
</ul>
</li>
</ul>
<h2 id="twincat-installation"><a class="header" href="#twincat-installation">TwinCAT installation</a></h2>
<p>TwinCAT can not coexist with Hyper-V or Virtual Machine Platform.
Therefore, it is necessary to disable these functions.
For example, start PowerShell with administrator privileges and type the following:</p>
<pre><code class="language-PowerShell">Disable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V-Hypervisor
Disable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform
</code></pre>
<p>First, download TwinCAT XAE from the <a href="https://www.beckhoff.com/en-en/">official site</a>.
To download, you need to register (free).</p>
<p>After downloading, run the installer and follow the instructions.
At this time, <strong>check</strong> “TwinCAT XAE Shell install” and <strong>uncheck</strong> “Visual Studio Integration”.</p>
<p>After installation, restart the PC and run <code>C:/TwinCAT/3.1/System/win8settick.bat</code> as an administrator, and restart again.</p>
<h2 id="autd-server"><a class="header" href="#autd-server">AUTD Server</a></h2>
<p>To use TwinCAT Link, install <code>AUTD Server</code> first.
The AUTD server’s installer is distributed on <a href="https://github.com/shinolab/autd3/releases">GitHub Releases</a>.</p>
<p>When you run <code>AUTD Server</code>, the following screen will appear, so open the “TwinCAT” tab.</p>
<figure>
  <img src="../../fig/Users_Manual/autdserver_twincat.jpg"/>
</figure>
<h3 id="config-file-and-driver-installation"><a class="header" href="#config-file-and-driver-installation">Config file and driver installation</a></h3>
<p>At the first time, you need to install configuration file and driver for EherCAT.</p>
<p>First click “Copy AUTD.xml” button.
If you see a message like “AUTD.xml is successfully copied”, it is successful.</p>
<p>Then, click “Open XAE shell” button“.
Open the upper menu of TwinCAT XAE Shell, select “TwinCAT” → “Show Realtime Ethernet Compatible Devices”, select the corresponding device in “Compatible devices”, and click “Install”.
If you see the installed device in “Installed and ready to use devices (realtime capable)”, it is successful.</p>
<p>Note: If “Compatible devices” is not displayed, the Ethernet device on that PC is not compatible with TwinCAT.
In that case, you can install the driver in “Incompatible devices”, but it is not guaranteed to work.</p>
<h3 id="license"><a class="header" href="#license">License</a></h3>
<p>In addition, the first time you run it, you will get a license error.
Open “Solution Explorer” → “SYSTEM” → “License” in XAE Shell, click “7 Days Trial License …”, and enter the characters displayed on the screen.
Note that the license is a 7-day trial license, but you can reissue it by doing the same thing again.
After issuing the license, close TwinCAT XAE Shell and run again.</p>
<h3 id="run-autd-server"><a class="header" href="#run-autd-server">Run AUTD Server</a></h3>
<p>Connect AUTD3 devices and PC, and power on the devices.
Then, click “Run” button on AUTD Server.
Here, let “Client IP address” be empty.</p>
<p>If you got a message like “AUTDs are found and added”, it is successful.</p>
<figure>
  <img src="../../fig/Users_Manual/autdserver_twincat_run.jpg"/>
</figure>
<h2 id="twincat-link-api"><a class="header" href="#twincat-link-api">TwinCAT link API</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">Constructor</a></h3>
<pre><code class="language-rust should_panic edition2021"><span class="boring">extern crate autd3;
</span><span class="boring">extern crate tokio;
</span><span class="boring">extern crate autd3_link_twincat;
</span><span class="boring">use autd3::prelude::*;
</span>use autd3_link_twincat::TwinCAT;

<span class="boring">#[allow(unused_variables)]
</span><span class="boring">#[tokio::main]
</span><span class="boring">async fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
</span><span class="boring">let autd = Controller::builder()
</span><span class="boring">    .add_device(AUTD3::new(Vector3::zeros()))
</span><span class="boring">    .open_with(
</span>TwinCAT::builder()
<span class="boring">).await?;
</span><span class="boring">Ok(())
</span><span class="boring">}</span></code></pre>
<pre><code class="language-cpp">#include &quot;autd3/link/twincat.hpp&quot;

autd3::link::TwinCAT::builder()
</code></pre>
<pre><code class="language-cs">using AUTD3Sharp.Link;

TwinCAT.Builder()
</code></pre>
<pre><code class="language-python">from pyautd3.link.twincat import TwinCAT

TwinCAT.builder()
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<p>When using a large number of devices, the following error may occur.</p>
<figure>
  <img src="../../fig/Users_Manual/tcerror.jpg"/>
  <figcaption>TwinCAT error when using 9 devices</figcaption>
</figure>
<p>In this case, increase the values of the <code>Sync0 cycle time</code> and <code>Send task cycle time</code> options of <code>AUTD Server</code> and run again.</p>
<p>The values should be as small as possible while no error occurs.</p>
<h1 id="remotetwincat"><a class="header" href="#remotetwincat">RemoteTwinCAT</a></h1>
<p>As mentioned above, AUTD3 and TwinCAT can only be used on Windows OS.
If you want to develop on a PC other than Windows, you can use <code>RemoteTwinCAT</code> link to remotely operate TwinCAT from Linux/macOS.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<p>You need to prepare two PCs to use RemoteTwinCAT.
In this case, one of the PCs must be able to use the above TwinCAT link.
This PC is called “server” here.
On the other hand, there are no particular restrictions on the PC on the development side, that is, the side using the SDK, and it just needs to be connected to the same LAN as the server.</p>
<p>First, connect the server and the AUTD device.
The LAN adapter used at this time must be a TwinCAT compatible adapter, just like the TwinCAT link.
Also, connect the server and the client on different LANs.
The LAN adapter here does not need to be TwinCAT compatible.
Then, check the IP of the LAN between the server and the client.
Here, for example, the server side is “172.16.99.104”, and the client side is “172.16.99.62”.</p>
<p>Next, start <code>AUTD Server</code> on the server.
At this time, specify the IP address of the client (in this example, <code>172.16.99.62</code>) with the <code>Client IP address</code> option.</p>
<figure>
  <img src="../../fig/Users_Manual/autdserver_remotetwincat.jpg"/>
</figure>
<p>You can see “Server AmsNetId” and “Client AmsNetId” on the right panel.</p>
<h2 id="remotetwincat-link-api"><a class="header" href="#remotetwincat-link-api">RemoteTwinCAT link API</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">Constructor</a></h3>
<p>You must specify the “Server AmsNetId” in the constructor of <code>RemoteTwinCAT</code> link.</p>
<p>And, specify the “Client AmsNetId” in the <code>with_client_ams_net_id</code> method.
Also, specify the IP address of the server in the <code>with_server_ip</code> method.
These two values is optional, but it is recommended to specify them.</p>
<pre><code class="language-rust should_panic edition2021"><span class="boring">extern crate autd3;
</span><span class="boring">extern crate tokio;
</span><span class="boring">extern crate autd3_link_twincat;
</span><span class="boring">use autd3::prelude::*;
</span>use autd3_link_twincat::RemoteTwinCAT;

<span class="boring">#[allow(unused_variables)]
</span><span class="boring">#[tokio::main]
</span><span class="boring">async fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
</span><span class="boring">let autd = Controller::builder()
</span><span class="boring">    .add_device(AUTD3::new(Vector3::zeros()))
</span><span class="boring">     .open_with(
</span>RemoteTwinCAT::builder(&quot;172.16.99.111.1.1&quot;)
            .with_server_ip(&quot;172.16.99.104&quot;)
            .with_client_ams_net_id(&quot;172.16.99.62.1.1&quot;)
<span class="boring">).await?;
</span><span class="boring">Ok(())
</span><span class="boring">}</span></code></pre>
<pre><code class="language-cpp">#include &quot;autd3/link/twincat.hpp&quot;

autd3::link::RemoteTwinCAT::builder(&quot;172.16.99.111.1.1&quot;)
    .with_server_ip(&quot;172.16.99.104&quot;)
    .with_client_ams_net_id(&quot;172.16.99.62.1.1&quot;)
</code></pre>
<pre><code class="language-cs">using AUTD3Sharp.Link;

RemoteTwinCAT.Builder(&quot;172.16.99.111.1.1&quot;)
        .WithServerIp(IPAddress.Parse(&quot;172.16.99.104&quot;))
        .WithClientAmsNetId(&quot;172.16.99.62.1.1&quot;)
</code></pre>
<pre><code class="language-python">from pyautd3.link.twincat import RemoteTwinCAT

RemoteTwinCAT.builder(&quot;172.16.99.111.1.1&quot;)\
    .with_server_ip(&quot;172.16.99.104&quot;)\
    .with_client_ams_net_id(&quot;172.16.99.62.1.1&quot;)
</code></pre>
<h2 id="firewall"><a class="header" href="#firewall">Firewall</a></h2>
<p>If you get a TCP-related error when using RemoteTwinCAT, the ADS protocol may be blocked by the firewall.
In that case, allow the connection of TCP/UDP port 48898 in the firewall settings.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../Users_Manual/link.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../Users_Manual/link/soem.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../Users_Manual/link.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../Users_Manual/link/soem.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../.././theme/codeblock_filename.js"></script>


    </div>
    </body>
</html>
